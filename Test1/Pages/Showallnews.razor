
@page "/showallnews"
@using Test1.Models;
@using Blazored.Typeahead
@*<body onload="window.print()">*@

    <EditForm Model="catid">
    <InputSelect id="categoryId" Value="@catid" ValueChanged="@((int catid)=>Getnewsbycatid(catid))"
            ValueExpression="@(()=>catid)">
            <option value=0>All Nwes</option>
            @foreach (var item in categories)
        {
            <option value="@item.Id">@item.Name</option>
        }
        </InputSelect>
    </EditForm>
@*    <button @onclick="printdocument" class="btn btn-danger">Print</button>
    <div id="printarea">
@if (news != null)
{
    <table>
        <tr>
            <td>
                Name
            </td>
            <td>Address</td>
            <td>CategoryId</td>
            <td>Category Name</td>
            <td>Image</td>
            <td>Delete</td>
        </tr>
        @foreach (var item in news)
        {

            <tr>
                <td>
                    @item.Name
                </td>
                <td>
                   @item.address
                </td>
                <td>
                   @item.categoryId
                </td>
                <td>
                    @item.category.Name
                </td>
                <td>
                    <img src="@item.imgpath" style="width:150px">
                </td>*@
@*              <td> <button class="btn btn-danger" @onclick="@(()=>Delete(@item.Id,@item.Name))">Delete</button></td>
                <td><a class="btn btn-success" href="/updatenews/@item.Id">Edit</a></td>*@
@*          <td><MudIconButton Icon="@Icons.Material.Filled.Delete" @onclick="@(()=>Delete(@item.Id,@item.Name))" Variant="Variant.Filled" Color="Color.Primary" Size="Size.Large" /></td>
                <td><MudIconButton Icon="@Icons.Material.Filled.Update" @onclick="@(()=>Update(@item.Id))" Variant="Variant.Filled" Color="Color.Primary" Size="Size.Large" /></td>
                </tr>



        }
    </table>
}
else
{
    <p>loading.........</p>

}
</div>*@
@*</body>*@
    <button @onclick="printdocument" class="btn btn-danger">Print</button>
    <div id="printarea">
@if (news!=null)
{
    <MudTable Items="@news" Hover="true" Breakpoint="Breakpoint.Sm" Loading="@_loading" LoadingProgressColor="Color.Info">
        <HeaderContent>
            <MudTh>Nr</MudTh>
            <MudTh>Sign</MudTh>
            <MudTh>Name</MudTh>
            <MudTh>Position</MudTh>
            <MudTh>Molar mass</MudTh>
            <MudTh>Delete</MudTh>
        </HeaderContent>
        <RowTemplate>
            <MudTd DataLabel="Nr">@context.Name</MudTd>
            <MudTd DataLabel="Sign">@context.address</MudTd>
            <MudTd DataLabel="Name">@context.categoryId</MudTd>
            <MudTd DataLabel="Position" HideSmall="_hidePosition">@context.category.Name</MudTd>
            <MudTd DataLabel="Molar mass">
              @*  <img src="@context.imgpath" style="width:150px">*@
                    <MudAvatar>
                        <MudImage Src="@context.imgpath" Style="width:100%"></MudImage>
                    </MudAvatar>
                </MudTd>
            <MudTd DataLabel="Delete">  <MudButton Variant="Variant.Filled" StartIcon="@Icons.Material.Filled.Delete" Color="Color.Error" @onclick="@(()=>Delete(@context.Id,@context.Name))">Delete</MudButton> </MudTd>
            <MudTd DataLabel="Update"> <MudButton Variant="Variant.Filled" EndIcon="@Icons.Material.Filled.Update" Color="Color.Primary" @onclick="@(()=>Update(@context.Id))">Update</MudButton></MudTd>
        </RowTemplate>
    </MudTable>
    <MudSwitch @bind-Checked="_hidePosition">Hide <b>position</b> when Breakpoint=Xs</MudSwitch>
    <MudSwitch @bind-Checked="_loading">Show Loading</MudSwitch>
}


else
{
<p>loading.........</p>

}
</div>


 
  

